<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å•†å“åˆ†æœŸç”³è«‹å¹³å° (æ­£å¼ç‰ˆ)</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        body { font-family: -apple-system, "Microsoft JhengHei", sans-serif; background-color: #f0f2f5; margin: 0; padding: 15px; color: #333; }
        .container { max-width: 100%; background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        h2 { color: #004a87; text-align: center; margin-bottom: 5px; }
        p.subtitle { text-align: center; font-size: 13px; color: #666; margin-bottom: 25px; }
        .section-title { background: #eef2f3; padding: 10px 15px; font-weight: bold; margin-top: 25px; border-left: 5px solid #28a745; border-radius: 4px; color: #2c3e50; }
        .form-group { margin-top: 15px; }
        label { display: block; font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #555; }
        input, select { width: 100%; padding: 12px; border: 1px solid #ced4da; border-radius: 8px; box-sizing: border-box; font-size: 16px; outline: none; }
        input:focus { border-color: #28a745; box-shadow: 0 0 5px rgba(40,167,69,0.2); }
        .upload-area { border: 2px dashed #28a745; padding: 20px; text-align: center; border-radius: 10px; margin-top: 10px; cursor: pointer; background: #f9fffb; transition: 0.3s; }
        .upload-area:active { background: #e8f5e9; }
        .preview-img { width: 100%; margin-top: 15px; border-radius: 10px; display: none; border: 1px solid #ddd; }
        .submit-btn { background: #28a745; color: white; width: 100%; padding: 18px; border: none; border-radius: 10px; font-size: 18px; font-weight: bold; margin-top: 40px; cursor: pointer; box-shadow: 0 4px 10px rgba(40,167,69,0.3); }
        .submit-btn:active { background: #218838; transform: translateY(2px); }
    </style>
</head>
<body>

<div class="container">
    <h2>åˆ†æœŸç”³è«‹è¡¨å–®</h2>
    <p class="subtitle">è«‹å¡«å¯«å®Œæ•´è³‡è¨Šï¼Œä»¥åˆ©å¿«é€Ÿå¯©æ ¸é€²åº¦</p>
    
    <div class="section-title">ä¸€ã€å€‹äººåŸºæœ¬è³‡æ–™</div>
    <div class="form-group"><label>å…¨å</label><input type="text" id="name" placeholder="ç¯„ä¾‹ï¼šç‹å¤§æ˜"></div>
    <div class="form-group"><label>æ‰‹æ©Ÿè™Ÿç¢¼</label><input type="tel" id="mobile" placeholder="09xxxxxxxx"></div>
    <div class="form-group"><label>å‡ºç”Ÿå¹´æœˆæ—¥</label><input type="text" id="birthday" placeholder="ä¾‹ï¼š75/10/20"></div>
    <div class="form-group"><label>èº«åˆ†è­‰å­—è™Ÿ</label><input type="text" id="id_num" placeholder="è«‹è¼¸å…¥èº«åˆ†è­‰è™Ÿ"></div>
    <div class="form-group"><label>æœ€é«˜å­¸æ­·</label>
        <select id="edu"><option>è«‹é¸æ“‡</option><option>åœ‹ä¸­</option><option>é«˜ä¸­/è·</option><option>å¤§å°ˆ</option><option>å¤§å­¸ä»¥ä¸Š</option></select>
    </div>
    <div class="form-group"><label>é›»ä¿¡æ¥­è€…</label><input type="text" id="tel_co" placeholder="ä¾‹ï¼šä¸­è¯é›»ä¿¡"></div>
    <div class="form-group"><label>å¸¸ç”¨ Email</label><input type="email" id="email" placeholder="example@mail.com"></div>

    <div class="section-title">äºŒã€å±…ä½ç‹€æ³</div>
    <div class="form-group"><label>æˆ¶ç±åœ°å€</label><input type="text" id="h_addr"></div>
    <div class="form-group"><label>ç¾å±…åœ°å€</label><input type="text" id="c_addr"></div>
    <div class="form-group"><label>å±…ä½æŒæœ‰ç‹€æ³</label>
        <select id="h_type"><option>è«‹é¸æ“‡</option><option>è‡ªæœ‰</option><option>è¦ªå‹æŒæœ‰</option><option>ç§Ÿè³ƒ</option></select>
    </div>

    <div class="section-title">ä¸‰ã€å·¥ä½œè³‡è¨Š</div>
    <div class="form-group"><label>å…¬å¸åç¨±</label><input type="text" id="comp"></div>
    <div class="form-group"><label>è·ç¨±</label><input type="text" id="job"></div>
    <div class="form-group"><label>æœˆæ”¶å…¥</label><input type="number" id="income" placeholder="ä¾‹ï¼š35000"></div>
    <div class="form-group"><label>å¹´è³‡</label><input type="text" id="seniority" placeholder="ä¾‹ï¼š2å¹´3å€‹æœˆ"></div>

    <div class="section-title">å››ã€è­‰ä»¶æ‹ç…§ä¸Šå‚³</div>
    <div class="form-group">
        <label>èº«åˆ†è­‰ã€æ­£é¢ã€‘</label>
        <div class="upload-area" onclick="document.getElementById('img_front').click()">ğŸ“· é»æ“Šæ‹æ”æ­£é¢</div>
        <input type="file" id="img_front" accept="image/*" style="display:none" onchange="handlePreview(this, 'p_front')">
        <img id="p_front" class="preview-img">
    </div>

    <div class="form-group" style="margin-top:20px;">
        <label>èº«åˆ†è­‰ã€åé¢ã€‘</label>
        <div class="upload-area" onclick="document.getElementById('img_back').click()">ğŸ“· é»æ“Šæ‹æ”åé¢</div>
        <input type="file" id="img_back" accept="image/*" style="display:none" onchange="handlePreview(this, 'p_back')">
        <img id="p_back" class="preview-img">
    </div>

    <div class="section-title">äº”ã€è¯çµ¡äººè³‡è¨Š (ä¸€)</div>
    <div class="form-group"><label>è¯çµ¡äºº1 å§“å</label><input type="text" id="ref1_name"></div>
    <div class="form-group"><label>è¯çµ¡äºº1 é—œä¿‚</label><input type="text" id="ref1_rel"></div>
    <div class="form-group"><label>è¯çµ¡äºº1 é›»è©±</label><input type="tel" id="ref1_tel"></div>

    <div class="section-title">å…­ã€è¯çµ¡äººè³‡è¨Š (äºŒ)</div>
    <div class="form-group"><label>è¯çµ¡äºº2 å§“å</label><input type="text" id="ref2_name"></div>
    <div class="form-group"><label>è¯çµ¡äºº2 é—œä¿‚</label><input type="text" id="ref2_rel"></div>
    <div class="form-group"><label>è¯çµ¡äºº2 é›»è©±</label><input type="tel" id="ref2_tel"></div>

    <button class="submit-btn" onclick="submitData()">ç¢ºèªé€å‡ºç”³è«‹</button>
</div>

<script>
    // âš  é‡è¦ï¼šè«‹å‹™å¿…åœ¨æ­¤å¡«å…¥ä½ çš„çœŸå¯¦ LIFF ID
    const MY_LIFF_ID = "2008759894-DkxBFgJp";

    liff.init({ liffId: MY_LIFF_ID }).then(() => {
        if (!liff.isLoggedIn()) {
            liff.login();
        }
    }).catch(err => console.error("LIFF åˆå§‹åŒ–éŒ¯èª¤", err));

    function handlePreview(input, imgId) {
        const file = input.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = e => {
                const img = document.getElementById(imgId);
                img.src = e.target.result;
                img.style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
    }

    function submitData() {
        const name = document.getElementById('name').value;
        const mobile = document.getElementById('mobile').value;
        
        if (!name || !mobile) {
            alert("è«‹è‡³å°‘å¡«å¯«å§“åèˆ‡é›»è©±ï¼");
            return;
        }

        // å½™æ•´è¨Šæ¯å…§å®¹
        const report = `ã€æ–°ä»¶ç”³è«‹é€šçŸ¥ã€‘\n` +
                       `å§“åï¼š${name}\n` +
                       `é›»è©±ï¼š${mobile}\n` +
                       `èº«åˆ†è­‰ï¼š${document.getElementById('id_num').value}\n` +
                       `æœˆæ”¶å…¥ï¼š${document.getElementById('income').value}\n` +
                       `è¯çµ¡äºº1ï¼š${document.getElementById('ref1_name').value}(${document.getElementById('ref1_rel').value})\n` +
                       `è¯çµ¡äºº2ï¼š${document.getElementById('ref2_name').value}(${document.getElementById('ref2_rel').value})\n` +
                       `--- è©³ç´°è³‡æ–™å·²ç”±ç³»çµ±ç´€éŒ„ ---`;

        liff.sendMessages([{
            type: 'text',
            text: report
        }]).then(() => {
            alert("ç”³è«‹è³‡æ–™å·²é€å‡ºæˆåŠŸï¼");
            liff.closeWindow();
        }).catch(err => {
            console.error(err);
            alert("å‚³é€å¤±æ•—ï¼Œè«‹ç¢ºèªæ˜¯å¦å·²åœ¨ LINE é–‹å•Ÿä¸¦æˆæ¬Šæ¬Šé™ã€‚");
        });
    }
</script>

</body>
</html>