<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è³‡é‡‘æœå‹™æ­£å¼ç”³è«‹è¡¨</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        :root { --p: #1a508b; --s: #28a745; --bg: #f4f7f9; }
        body { font-family: "PingFang TC", "Microsoft JhengHei", sans-serif; background-color: var(--bg); margin: 0; padding: 15px; line-height: 1.5; }
        .container { max-width: 500px; margin: auto; background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        h2 { text-align: center; color: var(--p); border-bottom: 2px solid var(--p); padding-bottom: 10px; margin-bottom: 20px; }
        .sec { background: #eef2f7; color: var(--p); padding: 10px; border-left: 5px solid var(--p); font-weight: bold; margin-top: 25px; border-radius: 4px; }
        .g { margin-top: 15px; }
        label { display: block; font-size: 14px; font-weight: bold; margin-bottom: 6px; color: #444; }
        label span { color: red; }
        input, select { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; font-size: 16px; background: white; }
        .promo-box { background: #fff3cd; border: 1px dashed #ffc107; padding: 10px; border-radius: 8px; margin-top: 10px; color: #856404; font-size: 14px; }
        .btn { background: var(--s); color: white; width: 100%; padding: 20px; border: none; border-radius: 12px; font-size: 18px; font-weight: bold; margin-top: 40px; cursor: pointer; transition: 0.3s; }
        .btn:disabled { background: #ccc; cursor: not-allowed; }
    </style>
</head>
<body>

<div class="container">
    <h2>è³‡é‡‘æœå‹™æ­£å¼ç”³è«‹è¡¨</h2>

    <div class="sec">ä¸€ã€ç”³è«‹æ–¹æ¡ˆ</div>
    <div class="g">
        <label>æ¬²ç”³è«‹é …ç›®<span>*</span></label>
        <select id="v32">
            <option value="">è«‹é¸æ“‡ç”³è«‹é …ç›®</option>
            <option value="å•†å“åˆ†æœŸ">å•†å“åˆ†æœŸ (æ©Ÿè»Š/æ‰‹æ©Ÿ/å®¶é›»)</option>
            <option value="æ©Ÿè»Šè²¸">æ©Ÿè»Šè²¸ (åŸè»Šèè³‡)</option>
            <option value="æ±½è»Šè²¸">æ±½è»Šè²¸ (åŸè»Šèè³‡)</option>
            <option value="å€‹äººä¿¡è²¸">å€‹äººå°é¡ä¿¡è²¸</option>
        </select>
    </div>

    <div class="sec">äºŒã€å€‹äººåŸºæœ¬è³‡æ–™</div>
    <div class="g"><label>å…¨å<span>*</span></label><input type="text" id="v1" placeholder="ä¾‹ï¼šé™³å°æ˜"></div>
    <div class="g"><label>LINE ID<span>*</span></label><input type="text" id="v2" placeholder="ä¾‹ï¼šabc12345"></div>
    <div class="g"><label>å‡ºç”Ÿå¹´æœˆæ—¥<span>*</span></label><input type="text" id="v3" placeholder="ä¾‹ï¼š80/01/01"></div>
    <div class="g"><label>èº«åˆ†è­‰å­—è™Ÿ<span>*</span></label><input type="text" id="v4" placeholder="ä¾‹ï¼šA123456789"></div>
    <div class="g"><label>æœ€é«˜å­¸æ­·<span>*</span></label><input type="text" id="v5" placeholder="ä¾‹ï¼šå¤§å­¸"></div>
    <div class="g"><label>æ‰‹æ©Ÿè™Ÿç¢¼<span>*</span></label><input type="tel" id="v6" placeholder="ä¾‹ï¼š0912345678"></div>
    <div class="g"><label>æ–¹ä¾¿è¯çµ¡æ™‚é–“<span>*</span></label><input type="text" id="v7" placeholder="ä¾‹ï¼šéš¨æ™‚æˆ–å¹³æ—¥æ™šä¸Š"></div>
    <div class="g"><label>é›»ä¿¡æ¥­è€…<span>*</span></label><input type="text" id="v8" placeholder="ä¾‹ï¼šä¸­è¯é›»ä¿¡"></div>
    <div class="g"><label>å¸¸ç”¨ Email<span>*</span></label><input type="email" id="v9" placeholder="ä¾‹ï¼šuser@mail.com"></div>

    <div class="sec">ä¸‰ã€å±…ä½ç‹€æ³</div>
    <div class="g"><label>æˆ¶ç±åœ°å€<span>*</span></label><input type="text" id="v10" placeholder="ä¾‹ï¼šå°åŒ—å¸‚ä¿¡ç¾©å€...è™Ÿ"></div>
    <div class="g"><label>æˆ¶ç±é›»è©±<span>*</span></label><input type="text" id="v11" placeholder="ä¾‹ï¼š02-23456789 (ç„¡å‰‡å¡«ç„¡)"></div>
    <div class="g"><label>ç¾å±…åœ°å€<span>*</span></label><input type="text" id="v12" placeholder="ä¾‹ï¼šåŒæˆ¶ç±åœ°å€"></div>
    <div class="g"><label>ç¾å±…é›»è©±<span>*</span></label><input type="text" id="v13" placeholder="ç„¡å‰‡å¡«ç„¡"></div>
    <div class="g"><label>å±…ä½æ™‚é–“<span>*</span></label><input type="text" id="v14" placeholder="ä¾‹ï¼š5å¹´"></div>
    <div class="g">
        <label>å±…ä½æŒæœ‰ç‹€æ³<span>*</span></label>
        <select id="v15">
            <option value="">è«‹é¸æ“‡</option>
            <option value="è‡ªæœ‰">è‡ªæœ‰</option>
            <option value="ç§Ÿè³ƒ">ç§Ÿè³ƒ</option>
            <option value="è¦ªå‹">è¦ªå‹</option>
            <option value="å®¿èˆ">å®¿èˆ</option>
        </select>
    </div>

    <div class="sec">å››ã€å·¥ä½œè³‡è¨Š</div>
    <div class="g"><label>å…¬å¸åç¨±<span>*</span></label><input type="text" id="v16" placeholder="ä¾‹ï¼šâ—‹â—‹å·¥æ¥­è‚¡ä»½æœ‰é™å…¬å¸"></div>
    <div class="g"><label>å…¬å¸é›»è©±<span>*</span></label><input type="text" id="v17" placeholder="ä¾‹ï¼š02-88887777"></div>
    <div class="g"><label>å…¬å¸åœ°å€<span>*</span></label><input type="text" id="v18" placeholder="ä¾‹ï¼šæ¡ƒåœ’å¸‚ä¸­å£¢å€...è™Ÿ"></div>
    <div class="g"><label>è·ç¨±<span>*</span></label><input type="text" id="v19" placeholder="ä¾‹ï¼šæŠ€è¡“å“¡"></div>
    <div class="g"><label>æœˆæ”¶å…¥<span>*</span></label><input type="text" id="v20" placeholder="ä¾‹ï¼š35000"></div>
    <div class="g"><label>å¹´è³‡<span>*</span></label><input type="text" id="v21" placeholder="ä¾‹ï¼š1å¹´åŠ"></div>
    <div class="g"><label>æœ‰ç„¡å‹ä¿è–ªè½‰<span>*</span></label><input type="text" id="v22" placeholder="ä¾‹ï¼šçš†æœ‰"></div>

    <div class="sec">äº”ã€è¯çµ¡äººè³‡è¨Š</div>
    <div class="g"><label>è¯çµ¡äºº1å§“å<span>*</span></label><input type="text" id="v23" placeholder="ä¾‹ï¼šå¼µå¿—æ˜"></div>
    <div class="g"><label>è¯çµ¡äºº1é—œä¿‚<span>*</span></label><input type="text" id="v24" placeholder="ä¾‹ï¼šçˆ¶å­"></div>
    <div class="g"><label>è¯çµ¡äºº1é›»è©±<span>*</span></label><input type="tel" id="v25" placeholder="ä¾‹ï¼š0911222333"></div>
    <div class="g"><label>æ–¹ä¾¿ç…§æœƒæ™‚é–“<span>*</span></label><input type="text" id="v26" placeholder="ä¾‹ï¼šä¸é™"></div>
    <div class="g"><label>è¯çµ¡äºº2å§“å<span>*</span></label><input type="text" id="v27" placeholder="ä¾‹ï¼šæå¤§è¯"></div>
    <div class="g"><label>è¯çµ¡äºº2é—œä¿‚<span>*</span></label><input type="text" id="v28" placeholder="ä¾‹ï¼šæœ‹å‹"></div>
    <div class="g"><label>è¯çµ¡äºº2é›»è©±<span>*</span></label><input type="tel" id="v29" placeholder="ä¾‹ï¼š0988777666"></div>
    <div class="g"><label>æ–¹ä¾¿ç…§æœƒæ™‚é–“<span>*</span></label><input type="text" id="v30" placeholder="ä¾‹ï¼šæ™šä¸Šä¸ƒé»å¾Œ"></div>

    <div class="sec">å…­ã€æ¨è–¦å›é¥‹ (æ ¸å‡†é€ç¾é‡‘)</div>
    <div class="g">
        <label>æ¨è–¦äººå§“å/é›»è©± (è‹¥ç„¡å‰‡å¡«ç„¡)</label>
        <input type="text" id="v31" placeholder="å¡«å¯«æ¨è–¦äººè³‡è¨Š">
        <div class="promo-box">ğŸ’° æº«é¦¨æç¤ºï¼šæœ¬ä»¶æ ¸å‡†æˆåŠŸå¾Œï¼Œæ¨è–¦äººå¯é ˜å– 1,000 å…ƒç¾é‡‘å›é¥‹ï¼</div>
    </div>

    <input type="file" id="photoInput" accept="image/*" style="display:none" onchange="handleFileSelected()">

    <button id="submitBtn" class="btn" onclick="handleSubmit()">ç¢ºèªé€å‡ºä¸¦é–‹å•Ÿæ‹ç…§</button>
</div>

<script>
    const LIFF_ID = "2008759894-DkxBFgJp"; 

    liff.init({ liffId: LIFF_ID }).then(() => {
        if (!liff.isLoggedIn()) {
            liff.login();
        }
    }).catch((err) => { console.log('LIFF åˆå§‹åŒ–å¤±æ•—', err); });

    async function handleSubmit() {
        const btn = document.getElementById('submitBtn');
        const fields = [
            {id:'v32', n:'ç”³è«‹æ–¹æ¡ˆ'}, {id:'v1', n:'å…¨å'}, {id:'v2', n:'LINE ID'}, {id:'v3', n:'ç”Ÿæ—¥'}, {id:'v4', n:'èº«åˆ†è­‰'},
            {id:'v5', n:'å­¸æ­·'}, {id:'v6', n:'æ‰‹æ©Ÿ'}, {id:'v7', n:'è¯çµ¡æ™‚é–“'}, {id:'v8', n:'é›»ä¿¡'}, {id:'v9', n:'Email'},
            {id:'v10', n:'æˆ¶ç±åœ°å€'}, {id:'v11', n:'æˆ¶ç±é›»è©±'}, {id:'v12', n:'ç¾å±…åœ°å€'}, {id:'v13', n:'ç¾å±…é›»è©±'},
            {id:'v14', n:'å±…ä½æ™‚é–“'}, {id:'v15', n:'ç”¢æ¬Š'}, {id:'v16', n:'å…¬å¸åç¨±'}, {id:'v17', n:'å…¬å¸é›»è©±'},
            {id:'v18', n:'å…¬å¸åœ°å€'}, {id:'v19', n:'è·ç¨±'}, {id:'v20', n:'æœˆæ”¶å…¥'}, {id:'v21', n:'å¹´è³‡'},
            {id:'v22', n:'å‹ä¿è–ªè½‰'}, {id:'v23', n:'è¯1å§“å'}, {id:'v24', n:'è¯1é—œä¿‚'}, {id:'v25', n:'è¯1é›»è©±'},
            {id:'v26', n:'è¯1æ™‚é–“'}, {id:'v27', n:'è¯2å§“å'}, {id:'v28', n:'è¯2é—œä¿‚'}, {id:'v29', n:'è¯2é›»è©±'},
            {id:'v30', n:'è¯2æ™‚é–“'}, {id:'v31', n:'æ¨è–¦äººè³‡è¨Š'}
        ];

        // å¿…å¡«æª¢æŸ¥ (æ¨è–¦äººé™¤å¤–)
        for (let f of fields) {
            if (f.id === 'v31') continue; 
            const val = document.getElementById(f.id).value;
            if (!val) {
                alert("ã€Œ" + f.n + "ã€å°šæœªå¡«å¯«ï¼");
                document.getElementById(f.id).focus();
                return;
            }
        }

        btn.disabled = true;
        btn.innerText = "è³‡æ–™å‚³é€ä¸­ï¼Œè«‹ç¨å€™...";

        // çµ„åˆ LINE è¨Šæ¯
        let msg = "ã€æ–°ä»¶è²¸æ¬¾æ­£å¼ç”³è«‹å–®ã€‘\n";
        fields.forEach(f => {
            const val = document.getElementById(f.id).value || "ç„¡";
            msg += `${f.n}ï¼š${val}\n`;
        });
        msg += "\nâš ï¸ è«‹æ¥è‘—é»é¸ç…§ç‰‡ä¸Šå‚³èº«åˆ†è­‰ä»¶å®Œæˆç¨‹åºï¼";

        try {
            // 1. å…ˆé€å‡ºæ–‡å­—è¨Šæ¯
            await liff.sendMessages([{ type: 'text', text: msg }]);
            
            // 2. æˆåŠŸå¾Œé–‹å•Ÿæ‹ç…§/ç›¸ç°¿é¸å–®
            document.getElementById('photoInput').click();
            
            // 3. æ›´æ”¹æŒ‰éˆ•ç‹€æ…‹æç¤ºä½¿ç”¨è€…
            btn.innerText = "è«‹é¸å–ç…§ç‰‡å®Œæˆç”³è«‹";
        } catch (error) {
            alert("å‚³é€å¤±æ•—ï¼Œè«‹ç¢ºä¿åœ¨ LINE å…§é–‹å•Ÿè¡¨å–®ï¼š" + error);
            btn.disabled = false;
            btn.innerText = "ç¢ºèªé€å‡ºä¸¦é–‹å•Ÿæ‹ç…§";
        }
    }

    function handleFileSelected() {
        // ç•¶ä½¿ç”¨è€…é¸å®Œç…§ç‰‡å¾Œè§¸ç™¼
        alert("è³‡æ–™èˆ‡ç…§ç‰‡å·²å°±ç·’ï¼Œå³å°‡é—œé–‰è¦–çª—ã€‚è«‹è¨˜å¾—åœ¨å°è©±æ¡†å‚³é€æ‚¨çš„è­‰ä»¶ç…§ç‰‡ï¼");
        liff.closeWindow();
    }
</script>
</body>
</html>