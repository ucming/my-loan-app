<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å•†å“åˆ†æœŸæ­£å¼ç”³è«‹è¡¨</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        :root { --primary: #1a508b; --secondary: #28a745; --bg: #f0f2f5; }
        body { font-family: "PingFang TC", sans-serif; background-color: var(--bg); margin: 0; padding: 10px; }
        .container { max-width: 500px; margin: auto; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h2 { text-align: center; color: var(--primary); font-size: 20px; border-bottom: 2px solid var(--primary); padding-bottom: 10px; }
        .section-header { background: #eef2f7; color: var(--primary); padding: 10px; border-left: 5px solid var(--primary); font-weight: bold; margin-top: 20px; border-radius: 4px; }
        .form-group { margin-top: 15px; }
        label { display: block; font-size: 13px; font-weight: bold; margin-bottom: 5px; color: #444; }
        label span { color: red; margin-left: 3px; }
        input, select { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; font-size: 16px; background: #fff; }
        .upload-card { border: 2px dashed #bbb; padding: 20px; text-align: center; border-radius: 10px; cursor: pointer; background: #fafafa; margin-top: 10px; }
        .preview-img { width: 100%; margin-top: 10px; border-radius: 8px; display: none; border: 1px solid #ddd; }
        .submit-btn { background: var(--secondary); color: white; width: 100%; padding: 18px; border: none; border-radius: 10px; font-size: 18px; font-weight: bold; margin-top: 30px; cursor: pointer; }
    </style>
</head>
<body>

<div class="container">
    <h2>å•†å“åˆ†æœŸç”³è«‹æ­£å¼è¡¨å–®</h2>

    <div class="section-header">ä¸€ã€å€‹äººåŸºæœ¬è³‡æ–™</div>
    <div class="form-group"><label>å…¨å<span>*</span></label><input type="text" id="name" placeholder="ä¾‹ï¼šç‹å¤§æ˜"></div>
    <div class="form-group"><label>LINE ID<span>*</span></label><input type="text" id="line_id" placeholder="ä¾‹ï¼šabc12345"></div>
    <div class="form-group"><label>å‡ºç”Ÿå¹´æœˆæ—¥<span>*</span></label><input type="text" id="birthday" placeholder="ä¾‹ï¼š75/01/01"></div>
    <div class="form-group"><label>èº«åˆ†è­‰å­—è™Ÿ<span>*</span></label><input type="text" id="id_num" placeholder="ä¾‹ï¼šA123456789"></div>
    <div class="form-group"><label>æœ€é«˜å­¸æ­·<span>*</span></label><input type="text" id="edu" placeholder="ä¾‹ï¼šé«˜ä¸­/å¤§å­¸"></div>
    <div class="form-group"><label>æ‰‹æ©Ÿè™Ÿç¢¼<span>*</span></label><input type="tel" id="mobile" placeholder="ä¾‹ï¼š0912345678"></div>
    <div class="form-group"><label>æ–¹ä¾¿è¯çµ¡æ™‚é–“<span>*</span></label><input type="text" id="contact_time" placeholder="ä¾‹ï¼šéš¨æ™‚"></div>
    <div class="form-group"><label>é›»ä¿¡æ¥­è€…<span>*</span></label><input type="text" id="telecom" placeholder="ä¾‹ï¼šé å‚³"></div>
    <div class="form-group"><label>å¸¸ç”¨ Email<span>*</span></label><input type="email" id="email" placeholder="ä¾‹ï¼štest@mail.com"></div>

    <div class="section-header">äºŒã€è­‰ä»¶å½±åƒä¸Šå‚³</div>
    <div class="form-group"><label>èº«åˆ†è­‰ã€æ­£é¢ã€‘<span>*</span></label><div class="upload-card" onclick="document.getElementById('file_f').click()">ğŸ“¸ é»æ“Šæ‹ç…§</div><input type="file" id="file_f" accept="image/*" style="display:none" onchange="pv(this, 'img_f')"><img id="img_f" class="preview-img"></div>
    <div class="form-group"><label>èº«åˆ†è­‰ã€åé¢ã€‘<span>*</span></label><div class="upload-card" onclick="document.getElementById('file_b').click()">ğŸ“¸ é»æ“Šæ‹ç…§</div><input type="file" id="file_b" accept="image/*" style="display:none" onchange="pv(this, 'img_b')"><img id="img_b" class="preview-img"></div>

    <div class="section-header">ä¸‰ã€å±…ä½ç‹€æ³</div>
    <div class="form-group"><label>æˆ¶ç±åœ°å€<span>*</span></label><input type="text" id="h_addr"></div>
    <div class="form-group"><label>æˆ¶ç±é›»è©±<span>*</span></label><input type="text" id="h_tel"></div>
    <div class="form-group"><label>ç¾å±…åœ°å€<span>*</span></label><input type="text" id="c_addr"></div>
    <div class="form-group"><label>ç¾å±…é›»è©±<span>*</span></label><input type="text" id="c_tel"></div>
    <div class="form-group"><label>ç¾å±…åœ°å±…ä½æ™‚é–“<span>*</span></label><input type="text" id="live_year"></div>
    <div class="form-group"><label>å±…ä½æŒæœ‰ç‹€æ³<span>*</span></label><input type="text" id="h_type" placeholder="ä¾‹ï¼šç§Ÿè³ƒ/è‡ªæœ‰"></div>

    <div class="section-header">å››ã€å·¥ä½œè³‡è¨Š</div>
    <div class="form-group"><label>å…¬å¸åç¨±<span>*</span></label><input type="text" id="comp"></div>
    <div class="form-group"><label>å…¬å¸é›»è©±<span>*</span></label><input type="text" id="comp_tel"></div>
    <div class="form-group"><label>å…¬å¸åœ°å€<span>*</span></label><input type="text" id="comp_addr"></div>
    <div class="form-group"><label>è·ç¨±<span>*</span></label><input type="text" id="job"></div>
    <div class="form-group"><label>æœˆæ”¶å…¥<span>*</span></label><input type="text" id="income"></div>
    <div class="form-group"><label>å¹´è³‡<span>*</span></label><input type="text" id="seniority"></div>
    <div class="form-group"><label>æœ‰ç„¡å‹ä¿è–ªè½‰<span>*</span></label><input type="text" id="insurance"></div>

    <div class="section-header">äº”ã€è¯çµ¡äººè³‡è¨Š (ä¸€)</div>
    <div class="form-group"><label>å§“å<span>*</span></label><input type="text" id="r1_n"></div>
    <div class="form-group"><label>é—œä¿‚<span>*</span></label><input type="text" id="r1_r"></div>
    <div class="form-group"><label>é›»è©±<span>*</span></label><input type="tel" id="r1_t"></div>
    <div class="form-group"><label>ç…§æœƒç‹€æ³<span>*</span></label><input type="text" id="r1_s"></div>

    <div class="section-header">å…­ã€è¯çµ¡äººè³‡è¨Š (äºŒ)</div>
    <div class="form-group"><label>å§“å<span>*</span></label><input type="text" id="r2_n"></div>
    <div class="form-group"><label>é—œä¿‚<span>*</span></label><input type="text" id="r2_r"></div>
    <div class="form-group"><label>é›»è©±<span>*</span></label><input type="tel" id="r2_t"></div>
    <div class="form-group"><label>ç…§æœƒç‹€æ³<span>*</span></label><input type="text" id="r2_s"></div>

    <button class="submit-btn" onclick="send()">ç¢ºèªé€å‡ºç”³è«‹</button>
</div>

<script>
    const LIFF_ID = "2008759894-DkxBFgJp"; 
    liff.init({ liffId: LIFF_ID }).then(() => { if (!liff.isLoggedIn()) liff.login(); });

    function pv(input, imgId) {
        const file = input.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = e => { const img = document.getElementById(imgId); img.src = e.target.result; img.style.display = 'block'; };
            reader.readAsDataURL(file);
        }
    }

    function send() {
        const f = ['name','line_id','birthday','id_num','edu','mobile','contact_time','telecom','email','h_addr','h_tel','c_addr','c_tel','live_year','h_type','comp','comp_tel','comp_addr','job','income','seniority','insurance','r1_n','r1_r','r1_t','r1_s','r2_n','r2_r','r2_t','r2_s'];
        
        let report = "ã€æ–°ä»¶æ­£å¼ç”³è«‹å–®ã€‘\n";
        for (let id of f) {
            const val = document.getElementById(id).value;
            if (!val) { alert("æ‰€æœ‰æ¬„ä½å‡ç‚ºå¿…å¡«ï¼"); document.getElementById(id).focus(); return; }
            report += document.querySelector(`label[for='${id}']`) ? document.querySelector(`label[for='${id}']`).innerText.replace('*','') : id;
            report += "ï¼š" + val + "\n";
        }
        
        if (!document.getElementById('file_f').files[0] || !document.getElementById('file_b').files[0]) {
            alert("è«‹ä¸Šå‚³è­‰ä»¶ç…§ç‰‡ï¼"); return;
        }

        liff.sendMessages([{ type: 'text', text: report }]).then(() => {
            alert("è³‡æ–™å·²å®Œæ•´é€å‡ºï¼"); liff.closeWindow();
        }).catch(e => alert("å‚³é€å¤±æ•—"));
    }
</script>
</body>
</html>