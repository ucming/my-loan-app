<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>商品分期正式申請表</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        :root { --primary: #1a508b; --secondary: #28a745; --bg: #f4f7f9; }
        body { font-family: "PingFang TC", sans-serif; background-color: var(--bg); margin: 0; padding: 10px; }
        .container { max-width: 500px; margin: auto; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h2 { text-align: center; color: var(--primary); font-size: 22px; border-bottom: 2px solid var(--primary); padding-bottom: 10px; }
        .section-header { background: #e9ecef; color: var(--primary); padding: 8px 12px; border-radius: 4px; font-weight: bold; margin-top: 25px; border-left: 5px solid var(--primary); }
        .form-group { margin-top: 12px; }
        label { display: block; font-size: 13px; font-weight: bold; margin-bottom: 5px; color: #333; }
        label span { color: red; }
        input, select { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; font-size: 15px; }
        .contact-card { background: #fffcf5; padding: 15px; border-radius: 8px; border: 1px solid #ffeeba; margin-top: 15px; }
        .submit-btn { background: var(--secondary); color: white; width: 100%; padding: 18px; border: none; border-radius: 10px; font-size: 18px; font-weight: bold; margin-top: 30px; cursor: pointer; }
    </style>
</head>
<body>

<div class="container">
    <h2>商品分期正式申請表</h2>

    <div class="section-header">一、個人基本資料</div>
    <div class="form-group"><label>全名 <span>*</span></label><input type="text" id="name" placeholder="例：王大明"></div>
    <div class="form-group"><label>出生年月日 <span>*</span></label><input type="text" id="birthday" placeholder="例：82/11/1"></div>
    <div class="form-group"><label>身分證字號 <span>*</span></label><input type="text" id="id_num" placeholder="例：U123456789"></div>
    <div class="form-group"><label>最高學歷 <span>*</span></label><input type="text" id="edu" placeholder="例：高中"></div>
    <div class="form-group"><label>手機號碼 <span>*</span></label><input type="tel" id="mobile" placeholder="例：0912345678"></div>
    <div class="form-group"><label>方便聯絡時間 <span>*</span></label><input type="text" id="c_time" placeholder="例：1200-1300"></div>
    <div class="form-group"><label>電信業者 <span>*</span></label><input type="text" id="tel_co" placeholder="例：台灣大哥大"></div>
    <div class="form-group"><label>Email <span>*</span></label><input type="email" id="email" placeholder="例：test@gmail.com"></div>

    <div class="section-header">二、居住狀況</div>
    <div class="form-group"><label>戶籍地址 <span>*</span></label><input type="text" id="h_addr"></div>
    <div class="form-group"><label>戶籍電話 <span>*</span></label><input type="text" id="h_tel" placeholder="無則填無"></div>
    <div class="form-group"><label>現居地址 <span>*</span></label><input type="text" id="c_addr" placeholder="同戶籍請填同戶籍"></div>
    <div class="form-group"><label>現居地電話 <span>*</span></label><input type="text" id="c_tel" placeholder="無則填無"></div>
    <div class="form-group"><label>現居地居住時間 <span>*</span></label><input type="text" id="h_year" placeholder="例：20年"></div>
    <div class="form-group"><label>居住地持有狀況 <span>*</span></label><select id="h_type"><option value="">請選擇</option><option>自有</option><option>租賃</option><option>親友持有</option></select></div>

    <div class="section-header">三、工作資訊</div>
    <div class="form-group"><label>公司名稱 <span>*</span></label><input type="text" id="comp"></div>
    <div class="form-group"><label>公司電話 <span>*</span></label><input type="text" id="comp_tel"></div>
    <div class="form-group"><label>公司地址 <span>*</span></label><input type="text" id="comp_addr"></div>
    <div class="form-group"><label>公司職稱 <span>*</span></label><input type="text" id="job"></div>
    <div class="form-group"><label>薪資收入 <span>*</span></label><input type="number" id="income"></div>
    <div class="form-group"><label>有無薪轉勞保 <span>*</span></label><input type="text" id="insur" placeholder="例：有"></div>
    <div class="form-group"><label>工作年資 <span>*</span></label><input type="text" id="job_year" placeholder="例：8年"></div>

    <div class="section-header">四、聯絡人資訊 (一)</div>
    <div class="contact-card">
        <div class="form-group"><label>聯絡人1姓名 <span>*</span></label><input type="text" id="r1_n"></div>
        <div class="form-group"><label>與聯絡人1關係 <span>*</span></label><input type="text" id="r1_r"></div>
        <div class="form-group"><label>聯絡人1手機號碼 <span>*</span></label><input type="tel" id="r1_t"></div>
        <div class="form-group"><label>公開知情 / 保密照會 <span>*</span></label><select id="r1_s"><option>保密照會</option><option>公開知情</option></select></div>
        <div class="form-group"><label>方便聯絡時間 <span>*</span></label><input type="text" id="r1_time" placeholder="例：都可"></div>
    </div>

    <div class="section-header">五、聯絡人資訊 (二)</div>
    <div class="contact-card" style="border-left: 5px solid #ff9800;">
        <div class="form-group"><label>聯絡人2姓名 <span>*</span></label><input type="text" id="r2_n"></div>
        <div class="form-group"><label>與聯絡人2關係 <span>*</span></label><input type="text" id="r2_r"></div>
        <div class="form-group"><label>聯絡人2手機號碼 <span>*</span></label><input type="tel" id="r2_t"></div>
        <div class="form-group"><label>公開 / 保密照會 <span>*</span></label><select id="r2_s"><option>保密照會</option><option>公開知情</option></select></div>
        <div class="form-group"><label>方便聯絡時間 <span>*</span></label><input type="text" id="r2_time" placeholder="例：都可以"></div>
    </div>

    <button class="submit-btn" onclick="send()">確認送出完整申請</button>
</div>

<script>
    const LIFF_ID = "2008759894-DkxBFgJp"; 

    liff.init({ liffId: LIFF_ID }).then(() => {
        if (!liff.isLoggedIn()) liff.login();
    });

    function send() {
        // 取得所有欄位 ID
        const fields = [
            'name', 'birthday', 'id_num', 'edu', 'mobile', 'c_time', 'tel_co', 'email',
            'h_addr', 'h_tel', 'c_addr', 'c_tel', 'h_year', 'h_type',
            'comp', 'comp_tel', 'comp_addr', 'job', 'income', 'insur', 'job_year',
            'r1_n', 'r1_r', 'r1_t', 'r1_s', 'r1_time',
            'r2_n', 'r2_r', 'r2_t', 'r2_s', 'r2_time'
        ];

        for (let id of fields) {
            if (!document.getElementById(id).value) {
                alert("漏填警告：所有欄位皆為必填！請檢查完整。");
                document.getElementById(id).focus();
                return;
            }
        }

        const msg = `全名: ${document.getElementById('name').value}
出生年月日: ${document.getElementById('birthday').value}
身分證字號: ${document.getElementById('id_num').value}
最高學歷: ${document.getElementById('edu').value}
手機號碼: ${document.getElementById('mobile').value}
方便聯絡時間: ${document.getElementById('c_time').value}
戶籍地址: ${document.getElementById('h_addr').value}
戶籍電話: ${document.getElementById('h_tel').value}
現居地址: ${document.getElementById('c_addr').value}
現居地電話: ${document.getElementById('c_tel').value}
現居地居住時間: ${document.getElementById('h_year').value}
居住地持有狀況: ${document.getElementById('h_type').value}
電信業者: ${document.getElementById('tel_co').value}
Email: ${document.getElementById('email').value}
公司名稱: ${document.getElementById('comp').value}
公司電話: ${document.getElementById('comp_tel').value}
公司地址: ${document.getElementById('comp_addr').value}
公司職稱: ${document.getElementById('job').value}
薪資收入: ${document.getElementById('income').value}
有無薪轉勞保: ${document.getElementById('insur').value}
年資: ${document.getElementById('job_year').value}
聯絡人1: ${document.getElementById('r1_n').value}
與聯絡人1關係為: ${document.getElementById('r1_r').value}
聯絡人1手機號碼: ${document.getElementById('r1_t').value}
公開知情 / 保密照會: ${document.getElementById('r1_s').value}
方便聯絡時間: ${document.getElementById('r1_time').value}
聯絡人2: ${document.getElementById('r2_n').value}
與聯絡人2關係為: ${document.getElementById('r2_r').value}
聯絡人2手機號碼: ${document.getElementById('r2_t').value}
公開/保密照會: ${document.getElementById('r2_s').value}
方便聯絡時間: ${document.getElementById('r2_time').value}`;

        liff.sendMessages([{ type: 'text', text: msg }]).then(() => {
            alert("完整資料已送出！");
            liff.closeWindow();
        }).catch(e => alert("傳送失敗"));
    }
</script>

</body>
</html>