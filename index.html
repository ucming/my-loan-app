<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å•†å“åˆ†æœŸæ­£å¼ç”³è«‹è¡¨</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        :root { --p: #1a508b; --s: #28a745; --bg: #f4f7f9; }
        body { font-family: "PingFang TC", sans-serif; background-color: var(--bg); margin: 0; padding: 15px; }
        .container { max-width: 500px; margin: auto; background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        h2 { text-align: center; color: var(--p); border-bottom: 2px solid var(--p); padding-bottom: 10px; }
        .sec { background: #eef2f7; color: var(--p); padding: 10px; border-left: 5px solid var(--p); font-weight: bold; margin-top: 25px; border-radius: 4px; }
        .g { margin-top: 15px; }
        label { display: block; font-size: 14px; font-weight: bold; margin-bottom: 6px; color: #444; }
        label span { color: red; }
        input { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        .pre { width: 100%; margin-top: 10px; border-radius: 8px; display: none; border: 1px solid #ddd; }
        .btn { background: var(--s); color: white; width: 100%; padding: 18px; border: none; border-radius: 12px; font-size: 18px; font-weight: bold; margin-top: 40px; cursor: pointer; }
    </style>
</head>
<body>

<div class="container">
    <h2>å•†å“åˆ†æœŸæ­£å¼ç”³è«‹è¡¨å–®</h2>

    <div class="sec">ä¸€ã€å€‹äººåŸºæœ¬è³‡æ–™</div>
    <div class="g"><label>å…¨å<span>*</span></label><input type="text" id="v1" placeholder="ä¾‹ï¼šç‹å°æ˜"></div>
    <div class="g"><label>LINE ID<span>*</span></label><input type="text" id="v2" placeholder="è«‹å¡«å¯«æ­£ç¢º ID"></div>
    <div class="g"><label>å‡ºç”Ÿå¹´æœˆæ—¥<span>*</span></label><input type="text" id="v3" placeholder="ä¾‹ï¼š75/05/20"></div>
    <div class="g"><label>èº«åˆ†è­‰å­—è™Ÿ<span>*</span></label><input type="text" id="v4" placeholder="ä¾‹ï¼šA123456789"></div>
    <div class="g"><label>æœ€é«˜å­¸æ­·<span>*</span></label><input type="text" id="v5"></div>
    <div class="g"><label>æ‰‹æ©Ÿè™Ÿç¢¼<span>*</span></label><input type="tel" id="v6"></div>
    <div class="g"><label>æ–¹ä¾¿è¯çµ¡æ™‚é–“<span>*</span></label><input type="text" id="v7"></div>
    <div class="g"><label>é›»ä¿¡æ¥­è€…<span>*</span></label><input type="text" id="v8"></div>
    <div class="g"><label>å¸¸ç”¨ Email<span>*</span></label><input type="email" id="v9"></div>

    <div class="sec">äºŒã€è­‰ä»¶ä¸Šå‚³ (ç³»çµ±è‡ªå‹•æé†’)</div>
    <div class="g">
        <label>èº«åˆ†è­‰ã€æ­£é¢ã€‘é è¦½</label>
        <input type="file" id="ff" accept="image/*" onchange="pv(this, 'pf')">
        <img id="pf" class="pre">
    </div>
    <div class="g">
        <label>èº«åˆ†è­‰ã€åé¢ã€‘é è¦½</label>
        <input type="file" id="fb" accept="image/*" onchange="pv(this, 'pb')">
        <img id="pb" class="pre">
    </div>

    <div class="sec">ä¸‰ã€å±…ä½ç‹€æ³</div>
    <div class="g"><label>æˆ¶ç±åœ°å€<span>*</span></label><input type="text" id="v10"></div>
    <div class="g"><label>æˆ¶ç±é›»è©±<span>*</span></label><input type="text" id="v11"></div>
    <div class="g"><label>ç¾å±…åœ°å€<span>*</span></label><input type="text" id="v12"></div>
    <div class="g"><label>ç¾å±…é›»è©±<span>*</span></label><input type="text" id="v13"></div>
    <div class="g"><label>å±…ä½æ™‚é–“<span>*</span></label><input type="text" id="v14"></div>
    <div class="g"><label>å±…ä½ç”¢æ¬Šç‹€æ³<span>*</span></label><input type="text" id="v15"></div>

    <div class="sec">å››ã€å·¥ä½œè³‡è¨Š</div>
    <div class="g"><label>å…¬å¸åç¨±<span>*</span></label><input type="text" id="v16"></div>
    <div class="g"><label>å…¬å¸é›»è©±<span>*</span></label><input type="text" id="v17"></div>
    <div class="g"><label>å…¬å¸åœ°å€<span>*</span></label><input type="text" id="v18"></div>
    <div class="g"><label>è·ç¨±<span>*</span></label><input type="text" id="v19"></div>
    <div class="g"><label>æœˆæ”¶å…¥<span>*</span></label><input type="text" id="v20"></div>
    <div class="g"><label>å¹´è³‡<span>*</span></label><input type="text" id="v21"></div>
    <div class="g"><label>æœ‰ç„¡å‹ä¿è–ªè½‰<span>*</span></label><input type="text" id="v22"></div>

    <div class="sec">äº”ã€è¯çµ¡äººè³‡è¨Š (ä¸€)</div>
    <div class="g"><label>å§“å<span>*</span></label><input type="text" id="v23"></div>
    <div class="g"><label>é—œä¿‚<span>*</span></label><input type="text" id="v24"></div>
    <div class="g"><label>é›»è©±<span>*</span></label><input type="tel" id="v25"></div>
    <div class="g"><label>ç…§æœƒç‹€æ³<span>*</span></label><input type="text" id="v26"></div>

    <div class="sec">å…­ã€è¯çµ¡äººè³‡è¨Š (äºŒ)</div>
    <div class="g"><label>å§“å<span>*</span></label><input type="text" id="v27"></div>
    <div class="g"><label>é—œä¿‚<span>*</span></label><input type="text" id="v28"></div>
    <div class="g"><label>é›»è©±<span>*</span></label><input type="tel" id="v29"></div>
    <div class="g"><label>ç…§æœƒç‹€æ³<span>*</span></label><input type="text" id="v30"></div>

    <button class="btn" onclick="send()">ç¢ºèªé€å‡ºä¸¦æé†’æ‹ç…§</button>
</div>

<script>
    const LIFF_ID = "2008759894-DkxBFgJp"; 
    liff.init({ liffId: LIFF_ID }).then(() => { if (!liff.isLoggedIn()) liff.login(); });

    function pv(i, id) {
        const f = i.files[0];
        if (f) {
            const r = new FileReader();
            r.onload = e => { const img = document.getElementById(id); img.src = e.target.result; img.style.display = 'block'; };
            r.readAsDataURL(f);
        }
    }

    function send() {
        const fields = [
            {id:'v1', n:'å…¨å'}, {id:'v2', n:'LINE ID'}, {id:'v3', n:'ç”Ÿæ—¥'}, {id:'v4', n:'èº«åˆ†è­‰'}, {id:'v5', n:'å­¸æ­·'}, {id:'v6', n:'æ‰‹æ©Ÿ'}, 
            {id:'v7', n:'è¯çµ¡æ™‚é–“'}, {id:'v8', n:'é›»ä¿¡'}, {id:'v9', n:'Email'}, {id:'v10', n:'æˆ¶ç±åœ°å€'}, {id:'v11', n:'æˆ¶ç±é›»è©±'}, 
            {id:'v12', n:'ç¾å±…åœ°å€'}, {id:'v13', n:'ç¾å±…é›»è©±'}, {id:'v14', n:'å±…ä½æ™‚é–“'}, {id:'v15', n:'ç”¢æ¬Šç‹€æ³'}, {id:'v16', n:'å…¬å¸åç¨±'}, 
            {id:'v17', n:'å…¬å¸é›»è©±'}, {id:'v18', n:'å…¬å¸åœ°å€'}, {id:'v19', n:'è·ç¨±'}, {id:'v20', n:'æœˆæ”¶å…¥'}, {id:'v21', n:'å¹´è³‡'}, 
            {id:'v22', n:'å‹ä¿è–ªè½‰'}, {id:'v23', n:'è¯çµ¡1å§“å'}, {id:'v24', n:'è¯çµ¡1é—œä¿‚'}, {id:'v25', n:'è¯çµ¡1é›»è©±'}, {id:'v26', n:'è¯çµ¡1ç…§æœƒ'}, 
            {id:'v27', n:'è¯çµ¡2å§“å'}, {id:'v28', n:'è¯çµ¡2é—œä¿‚'}, {id:'v29', n:'è¯çµ¡2é›»è©±'}, {id:'v30', n:'è¯çµ¡2ç…§æœƒ'}
        ];

        // 1. å…ˆæª¢æŸ¥æ–‡å­—æ¬„ä½
        for (let f of fields) {
            if (!document.getElementById(f.id).value) { alert("ã€Œ" + f.n + "ã€å°šæœªå¡«å¯«ï¼"); document.getElementById(f.id).focus(); return; }
        }

        // 2. æ­¥é©Ÿ2 æé†’æ‹ç…§ï¼šå¦‚æœæ²’ç…§ç‰‡ï¼Œå¼·åˆ¶å½ˆå‡ºæ‹ç…§å°è©±æ¡†
        if (!document.getElementById('ff').files[0]) {
            alert("æ­¥é©ŸäºŒï¼šè«‹æ‹æ”ä¸¦ä¸Šå‚³èº«åˆ†è­‰ã€æ­£é¢ã€‘");
            document.getElementById('ff').click();
            return;
        }
        if (!document.getElementById('fb').files[0]) {
            alert("æ­¥é©ŸäºŒï¼šè«‹æ‹æ”ä¸¦ä¸Šå‚³èº«åˆ†è­‰ã€åé¢ã€‘");
            document.getElementById('fb').click();
            return;
        }

        // 3. çµ„åˆè³‡è¨Š
        let msg = "ã€æ–°ä»¶æ­£å¼ç”³è«‹å–®ã€‘\n";
        fields.forEach(f => { msg += `${f.n}ï¼š${document.getElementById(f.id).value}\n`; });
        msg += "ğŸ“¸ è­‰ä»¶ç…§ç‰‡ï¼šå·²éš¨æ–‡é™„ä¸Šé è¦½ç¢ºèª";

        liff.sendMessages([{ type: 'text', text: msg }]).then(() => {
            alert("ç”³è«‹æˆåŠŸé€å‡ºï¼");
            liff.closeWindow();
        }).catch(e => alert("å‚³é€å¤±æ•—"));
    }
</script>
</body>
</html>